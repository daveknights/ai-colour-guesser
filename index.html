<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#54717e">
    <title>Colour Guesser</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/brain.js/2.0.0-beta.1/brain-browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/apple-icon-180.png">
    <link rel="icon" type="image/png" href="app-icon.png">
    <style media="screen">
        *{box-sizing:border-box;font-family:sans-serif;margin:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}.page-wrapper{color:#54717e;height:100vh;margin:0 auto;max-width:1920px;position:relative}@media (min-width: 768px){.container{margin:0 auto;max-width:1000px}}header{border-bottom:solid 1px #54717e;margin-bottom:10px;padding:5px}@media (min-width: 768px){header{margin-bottom:15px}}header .container{display:flex}.logo{height:60px;margin-right:5px;width:auto}@media (min-width: 768px){.logo{height:100px;width:auto}}h1{font-size:1.5rem;line-height:60px;padding-left:1px;position:relative;text-align:center;width:calc(100% - 60px)}@media (min-width: 768px){h1{font-size:3rem;line-height:90px}}h1:before{background:#54717e;content:'';height:40px;left:0;position:absolute;top:10px;width:1px}@media (min-width: 768px){h1:before{height:80px;top:10px}}main{padding:0 12px}@media (min-width: 768px){main{padding:0 24px}}.instructions{display:block;font-size:0.875rem;font-weight:bold;margin-bottom:15px}@media (min-width: 360px){.instructions{font-size:1.125rem}}@media (min-width: 768px){.instructions{background:#eef1f2;font-size:1.125rem;padding:20px 10px}}@media (min-width: 1200px){.instructions{font-size:1.45rem;padding:30px 25px}}@media (min-width: 801px){.mobile-instruction{display:none}}@media (max-width: 800px){.desktop-instruction{display:none}}.input-output{border-radius:10px 10px 0 0;overflow:hidden}@media (min-width: 768px){.input-output{display:flex;gap:12px}}@media (max-width: 767px){.photo-wrapper,.video-wrapper{height:0;position:relative}}@media (max-width: 767px){.video-wrapper{padding-bottom:37.5%;width:50%}}.photo-wrapper{margin:0 auto;overflow:hidden}@media (max-width: 767px){.photo-wrapper{padding-bottom:70%;width:100%}}@media (max-width: 374px){.photo-wrapper{padding-bottom:66.66%;width:90%}}#video{height:auto;width:100%}@media (max-width: 767px){#video{position:absolute;left:0;right:0;top:0}}#take-photo{background:#54717e;background:linear-gradient(322deg, #354750, #7396a6);border:solid 10px #56707c;box-shadow:inset 0 0 0 1px black, 0 0 0 1px black;border-radius:50%;color:white;cursor:pointer;font-size:1.25rem;font-weight:bold;height:105px;margin-left:auto;margin-right:1px;width:105px;-webkit-appearance:none}@media (min-width: 768px){#take-photo{border:solid 2px #4e4e4e;border-radius:10px;box-shadow:inset 0 2px 5px #8ca0a6, inset 0 -1px 15px #3d535c;font-size:1.75rem;height:80px;line-height:70px;margin-top:1px;width:100%}#take-photo br{display:none}}@media (max-width: 767px){#take-photo{padding-bottom:10px;-webkit-tap-highlight-color:rgba(255,255,255,0) !important;-webkit-focus-ring-color:rgba(255,255,255,0) !important;outline:none !important}}.output{background:#eef1f2;position:relative}.output:after{color:#a9b8be;content:'?';font-size:12rem;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}@media (max-width: 767px){.output{margin-bottom:15px}}.output img{opacity:0}#photo{display:block;height:auto;width:100%}#photo.show{opacity:1;position:relative;z-index:1}#guess-result{background:#eef1f2;height:40px;line-height:25px}@media (min-width: 375px){#guess-result{height:50px;line-height:35px}}@media (min-width: 768px){#guess-result{height:80px;line-height:70px}}#guess-result.guess-styles{border-top:solid 1px #54717e;color:#415862;font-size:1.5rem;padding:5px 0 10px;text-align:center}@media (min-width: 768px){#guess-result.guess-styles{font-size:1.75rem}}@media (max-width: 767px){.camera{align-items:center;display:flex;width:100%}}@media (min-width: 768px){.output,.camera{width:50%}}small{color:#415862;display:block;margin-top:10px;text-align:left}@media (max-width: 767px){small{bottom:10px;position:absolute}}
    </style>
</head>
<body>
    <div class="page-wrapper">
        <header>
            <div class="container">
                <img class="logo" srcset="app-logo.png 60w, app-logo-lg.png 100w"
                     sizes="(max-width: 767px) 60px"
                     src="app-logo-lg.png"
                     alt="?" height="60" width="60">
                <h1>AI Colour Guesser</h1>
            </div>
        </header>
        <main class="container">
            <p class="instructions">
                <span class="mobile-instruction">Point your camera* at a solid object,</span>
                <span class="desktop-instruction">Hold a solid coloured object up to the camera*,</span> then take a photo to let me guess it's colour.
                Currently I can recognise red, yellow, green, blue, pink and grey.</p>
            <div class="input-output">
                <div class="output">
                    <div class="photo-wrapper">
                        <img id="photo" height="350" width="470">
                    </div>
                    <div id="guess-result">
                        <p id="guess"></p>
                    </div>
                </div>
                <div class="camera">
                    <div class="video-wrapper">
                        <video id="video">Video stream not available</video>
                    </div>
                    <button id="take-photo">Take <br>photo</button>
                </div>
            </div>
            <canvas id="canvas" hidden></canvas>
            <small>*The object will need to fill the majority of the frame</small>
        </main>
    </div>
    <script src="script.js"></script>
    <script>
        if ('serviceWorker in navigator') {
            navigator.serviceWorker.register('service-worker.js');
        }
    </script>
</body>
</html>
